<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.74.3" />
    <meta name="description" content="AWS Cloud Security Virtual Event">
<meta name="author" content="Sumit Patel">

    <link rel="shortcut icon" href="https://a0.awsstatic.com/libra-css/images/site/fav/favicon.ico" type="image/ico" />
<link rel="icon" href="https://a0.awsstatic.com/libra-css/images/site/fav/favicon.ico" type="image/ico" />

    <title>3. Configure Systems Manager Session Manager :: AWS Cloud Security Virtual Event</title>

    
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">
    <link href="/css/featherlight.min.css" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="/css/auto-complete.css" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css" rel="stylesheet">
    <link href="/css/theme.css" rel="stylesheet">
    <link href="/css/hugo-theme.css" rel="stylesheet">
    
    <link href="/css/theme-workshops.css" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/workshops/module1/configure/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <div>
  <a href="/" title="Go home">
      <img style="vertical-align:middle" src="/images/logo.png" height="70px" />
  </a>
</div>

    </div>
    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    
    
    <li data-nav-id="/agenda/" title="Overview" class="dd-item
    
        
        ">
      <a href="/agenda/">
          Overview
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/workshops/" title="Workshops" class="dd-item
    parent
        
        ">
      <a href="/workshops/">
          Workshops
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module0/" title="Lab Setup" class="dd-item
    
        
        ">
      <a href="/workshops/module0/">
          Lab Setup
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module1/" title="Lab 1: Eliminate Bastion Hosts with Systems Manager" class="dd-item
    parent
        
        ">
      <a href="/workshops/module1/">
          Lab 1: Eliminate Bastion Hosts with Systems Manager
          
            
              <i class="fas fa-caret-down"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/scenario/" title="1. Overview and Setup" class="dd-item ">
        <a href="/workshops/module1/scenario/">
        1. Overview and Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/evaluate/" title="2. Evaluate Session Manager Configuration" class="dd-item ">
        <a href="/workshops/module1/evaluate/">
        2. Evaluate Session Manager Configuration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/configure/" title="3. Configure Systems Manager Session Manager" class="dd-item active">
        <a href="/workshops/module1/configure/">
        3. Configure Systems Manager Session Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/portforward/" title="4. Use Port Forwarding For Web Redirection" class="dd-item ">
        <a href="/workshops/module1/portforward/">
        4. Use Port Forwarding For Web Redirection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/ssh/" title="5. Enable SSH Through Session Manager" class="dd-item ">
        <a href="/workshops/module1/ssh/">
        5. Enable SSH Through Session Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/rdp/" title="6. Enable RDP Through Session Manager" class="dd-item ">
        <a href="/workshops/module1/rdp/">
        6. Enable RDP Through Session Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module2/" title="Lab 2: Security through Good Governance" class="dd-item
    
        
        ">
      <a href="/workshops/module2/">
          Lab 2: Security through Good Governance
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/sysmgrlabsetup/" title="1. AWS Systems Manager Lab Setup" class="dd-item ">
        <a href="/workshops/module2/sysmgrlabsetup/">
        1. AWS Systems Manager Lab Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/systemsmanager/" title="2. AWS Systems Manager: Operations as Code" class="dd-item ">
        <a href="/workshops/module2/systemsmanager/">
        2. AWS Systems Manager: Operations as Code
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/inventory/" title="3. AWS Systems Manager: Inventory" class="dd-item ">
        <a href="/workshops/module2/inventory/">
        3. AWS Systems Manager: Inventory
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/statemgr/" title="4. AWS Systems Manager: State Manager" class="dd-item ">
        <a href="/workshops/module2/statemgr/">
        4. AWS Systems Manager: State Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/patch/" title="5. AWS Systems Manager: Patch Manager" class="dd-item ">
        <a href="/workshops/module2/patch/">
        5. AWS Systems Manager: Patch Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/configlabsetup/" title="6. AWS Config Lab Setup" class="dd-item ">
        <a href="/workshops/module2/configlabsetup/">
        6. AWS Config Lab Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/config/" title="7. AWS Config: Compliance as Code" class="dd-item ">
        <a href="/workshops/module2/config/">
        7. AWS Config: Compliance as Code
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module3/" title="Lab 3: Protecting Workloads from the Instance to the Edge" class="dd-item
    
        
        ">
      <a href="/workshops/module3/">
          Lab 3: Protecting Workloads from the Instance to the Edge
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/scenario/" title="1. Scenario" class="dd-item ">
        <a href="/workshops/module3/scenario/">
        1. Scenario
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/perimeter-assess/" title="2. Perimeter Layer - Assess" class="dd-item ">
        <a href="/workshops/module3/perimeter-assess/">
        2. Perimeter Layer - Assess
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/perimeter-remediate/" title="3. Perimeter Layer - Remediate" class="dd-item ">
        <a href="/workshops/module3/perimeter-remediate/">
        3. Perimeter Layer - Remediate
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/perimeter-verify/" title="4. Perimeter Layer - Verify" class="dd-item ">
        <a href="/workshops/module3/perimeter-verify/">
        4. Perimeter Layer - Verify
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/host-assess/" title="5. Host Layer - Assess" class="dd-item ">
        <a href="/workshops/module3/host-assess/">
        5. Host Layer - Assess
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/host-remediate/" title="6. Host Layer - Remediate" class="dd-item ">
        <a href="/workshops/module3/host-remediate/">
        6. Host Layer - Remediate
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/host-verify/" title="7. Host Layer - Verify" class="dd-item ">
        <a href="/workshops/module3/host-verify/">
        7. Host Layer - Verify
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module4/" title="Lab 4: AWS Secrets Manager with Amazon RDS and AWS Fargate" class="dd-item
    
        
        ">
      <a href="/workshops/module4/">
          Lab 4: AWS Secrets Manager with Amazon RDS and AWS Fargate
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/workshops/module4/scenario/" title="1. Architecture" class="dd-item ">
        <a href="/workshops/module4/scenario/">
        1. Architecture
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module4/rds/" title="2. RDS with Secrets Manager" class="dd-item ">
        <a href="/workshops/module4/rds/">
        2. RDS with Secrets Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module4/fargate/" title="3. Fargate with Secrets Manager" class="dd-item ">
        <a href="/workshops/module4/fargate/">
        3. Fargate with Secrets Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/" title="On-Demand Tracks" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/">
          On-Demand Tracks
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/advanced_container_security/" title="Advanced container security" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/advanced_container_security/">
          Advanced container security
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/cloud_security_multi_account/" title="Cloud security for everyone: Multi-account strategy" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/cloud_security_multi_account/">
          Cloud security for everyone: Multi-account strategy
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/cloud-enabled_security_origin/" title="Cloud-enabled security evolution with Origin Energy" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/cloud-enabled_security_origin/">
          Cloud-enabled security evolution with Origin Energy
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/federated_access_made_simple/" title="Federated access and authorisation made simple" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/federated_access_made_simple/">
          Federated access and authorisation made simple
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/secure_real-time_tracking_afl/" title="How AFL secures real-time player tracking with encryption" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/secure_real-time_tracking_afl/">
          How AFL secures real-time player tracking with encryption
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/secops_in_your_organization/" title="How to put SecOps to work in your organisation" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/secops_in_your_organization/">
          How to put SecOps to work in your organisation
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/neoband_in_th_cloud_xinja/" title="How Xinja built a neobank on the cloud" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/neoband_in_th_cloud_xinja/">
          How Xinja built a neobank on the cloud
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/iam-best-practices/" title="IAM: Best practices for managing identity with AWS" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/iam-best-practices/">
          IAM: Best practices for managing identity with AWS
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/intro-to-aws-sec/" title="Introduction to AWS Security" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/intro-to-aws-sec/">
          Introduction to AWS Security
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/sec-best-practices-war-way/" title="Security best practices: The Well-Architected way" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/sec-best-practices-war-way/">
          Security best practices: The Well-Architected way
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/security_fundamentals/" title="The fundamentals of AWS Security" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/security_fundamentals/">
          The fundamentals of AWS Security
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/training/" title="Learning Resources" class="dd-item
    
        
        ">
      <a href="/training/">
          Learning Resources
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/links/" title="Additional Links" class="dd-item
    
        
        ">
      <a href="/links/">
          Additional Links
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/survey/" title="Survey" class="dd-item
    
        
        ">
      <a href="/survey/">
          Survey
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/faq/" title="FAQ" class="dd-item
    
        
        ">
      <a href="/faq/">
          FAQ
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>

    <h5 class="copyright">&copy; 2020 Amazon Web Services, Inc. or its Affiliates. All rights reserved.<h5>

</left>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>AWS Cloud Security Virtual Event</a> > <a href='/workshops/'>Workshops</a> > <a href='/workshops/module1/'>Lab 1: Eliminate Bastion Hosts with Systems Manager</a> > 3. Configure Systems Manager Session Manager
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#stuck-watch-this"><em>Stuck? Watch this</em></a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              3. Configure Systems Manager Session Manager
            </h1>
          

        


<p>As we observed during our initial evaluation, our activity within a session is not yet being logged. In this step, we are going to configure Session Manager to store session log data in a specified Amazon S3 bucket for auditing purposes. The default option is for logs to be sent to an encrypted S3 bucket. Encryption is performed using the key specified for the bucket.</p>
<p><strong>Create a Custom Policy for Amazon S3 Bucket Access</strong></p>
<p>Creating a custom policy for Amazon S3 access is required only if you are using a VPC endpoint or using an S3 bucket of your own in your Systems Manager operations.</p>
<ol>
<li>
<p>Browse to the <a href="https://ap-southeast-2.console.aws.amazon.com/cloudformation/">CloudFormation console</a>, and select the stack starting with <strong>mod-</strong> and Description <strong>Session Manager workshop</strong>. Select the output tab and note down the S3 bucket name with the key value of <strong>Logging Bucket</strong>. This bucket will follow the naming convention session-manager-demo-[ACCOUNT_NUMBER]-ap-southeast-2 as below.
<img src="/images/cfnsessionoutput.png" alt=""></p>
</li>
<li>
<p>Open the <a href="https://console.aws.amazon.com/iam/">IAM console</a></p>
</li>
<li>
<p>In the navigation pane, choose <strong>Policies</strong>, and then choose <strong>Create policy</strong>. <img src="/images/iam1.png" alt=""></p>
</li>
<li>
<p>Choose the <strong>JSON</strong> tab, and replace the default text with the following:</p>
<pre><code>{
&quot;Version&quot;: &quot;2012-10-17&quot;,
&quot;Statement&quot;: [
    {
        &quot;Effect&quot;: &quot;Allow&quot;,
        &quot;Action&quot;: [
            &quot;s3:GetObject&quot;,
            &quot;s3:PutObject&quot;,
            &quot;s3:PutObjectAcl&quot;, 
            &quot;s3:GetEncryptionConfiguration&quot; 
        ],
        &quot;Resource&quot;: [
            &quot;arn:aws:s3:::my-bucket-name/*&quot;,
            &quot;arn:aws:s3:::my-bucket-name&quot; 
        ]
    }
]
}
</code></pre>
<p>Replace <code>my-bucket-name</code> with the bucket name from step 1.</p>
</li>
<li>
<p>Choose <strong>Review policy</strong>. <img src="/images/iam2.png" alt=""></p>
</li>
<li>
<p>For <strong>Name</strong>, enter a name to identify this policy, such as <strong>SSMInstanceProfileS3Policy</strong> or another name that you prefer. <img src="/images/iam3.png" alt=""></p>
</li>
<li>
<p>Choose <strong>Create policy</strong>.</p>
</li>
</ol>
<p><strong>Attaching Policy to Instance Profile Role</strong></p>
<ol>
<li>After the policy has been created, open the <a href="https://console.aws.amazon.com/iam/home#/roles/session-manager-demo-default">IAM console</a> and head into <strong>Roles</strong> in the navigation menu to the left and search for <strong>session-manager-demo-default</strong>. <img src="/images/iam4.png" alt=""></li>
<li>Then, click on <strong>Attach policies</strong>.</li>
<li>In the <strong>Filter</strong>, enter <strong>SSMInstanceProfileS3Policy</strong> as the policy to select.</li>
<li>Select the policy and click on <strong>Attach policy</strong>.</li>
</ol>
<p><strong>Enable Session Logging for Session Manager</strong></p>
<p>Once the policy has been created and associated with our Instance Profile, we will configure session logging to the S3 bucket we created using CloudFormation.</p>
<ol>
<li>
<p>Under Instances &amp; Nodes in the AWS Systems Manager navigation menu, browse to  <strong>Session Manager</strong> and select <strong>Preferences</strong> tab and <a href="https://ap-southeast-2.console.aws.amazon.com/systems-manager/session-manager/edit-preferences?region=ap-southeast-2"><strong>Edit</strong> option</a></p>
</li>
<li>
<p>Under the <strong>Write session output to an Amazon S3 bucket</strong> heading, select <strong>S3 bucket</strong>.</p>
</li>
<li>
<p>Leave <strong>Encrypt log data</strong> selected. In the <strong>S3 bucket name</strong> field, select the bucket you noted down at the start of this step. In the <strong>S3 key prefix</strong> field, enter <strong>Session-Manager</strong>. Click <strong>Save</strong> <img src="/images/sessionmgr9.png" alt=""></p>
</li>
<li>
<p>Select the <a href="https://ap-southeast-2.console.aws.amazon.com/systems-manager/session-manager/edit-preferences?region=ap-southeast-2#">Sessions tab</a>, click <strong>Start Session</strong>, select a Linux instance and click <strong>Start session</strong>. <img src="/images/sessionmgr10.png" alt=""></p>
</li>
<li>
<p>Execute some basic commands to demonstrate session logging is working as expected:</p>
<ul>
<li><code>ps -ef | grep -i ssm</code></li>
<li><code>sudo ls -l ../etc</code></li>
<li><code>whoami</code></li>
<li><code>exit</code> terminate the session.</li>
</ul>
</li>
<li>
<p>Browse to the <a href="https://ap-southeast-2.console.aws.amazon.com/systems-manager/session-manager/sessions-history?region=ap-southeast-2">Session History tab</a> and locate our last session. Wait for session <strong>Status</strong> to change from <strong>Terminating</strong> to <strong>Terminated</strong>. In the <strong>Output location</strong> column, click <strong>Amazon S3</strong> to view the session log. <img src="/images/sessionmgr11.png" alt=""></p>
</li>
<li>
<p>Observe the data captured in the session log includes all input and output of the commands we entered.</p>
</li>
</ol>

<div class="notices note" ><p><strong>Note:</strong> The S3 bucket created for you is configured to use <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/bucket-encryption.html">S3 Default Encryption</a> with AWS S3-managed keys (SSE-S3). All session log data will be encrypted by default but you can also choose to use your own KMS Customer Master Key (SSE-KMS).</p>
</div>

<h3 id="stuck-watch-this"><em>Stuck? Watch this</em></h3>

<div class="notices note" ><p><em>This video has no audio</em></p>
</div>



<video width="696" height="392" controls>
  <source src="https://d1tqhetmq9f85b.cloudfront.net/downloads/lab1.3.mp4" type="video/mp4">
  Your browser doesn't support video.
</video>




<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/workshops/module1/evaluate/" title="2. Evaluate Session Manager Configuration"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/workshops/module1/portforward/" title="4. Use Port Forwarding For Web Redirection" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/perfect-scrollbar.min.js"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="/js/jquery.sticky.js"></script>
    <script src="/js/featherlight.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js"></script>
    <script src="/js/learn.js"></script>
    <script src="/js/hugo-learn.js"></script>

    <link href="/mermaid/mermaid.css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

